{
  "$schema" : "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion" : "1.0.0.0",
  "parameters" : {
    "nodeVMSize" : {
      "type" : "string",
      "defaultValue" : "Standard_D8_v3",
      "allowedValues" : [
        "Standard_A2",
        "Standard_A3",
        "Standard_A4",
        "Standard_A5",
        "Standard_A6",
        "Standard_A7",
        "Standard_A8",
        "Standard_A9",
        "Standard_A10",
        "Standard_A11",
        "Standard_D2",
        "Standard_D3",
        "Standard_D4",
        "Standard_D11",
        "Standard_D12",
        "Standard_D13",
        "Standard_D14",
        "Standard_D2_v2",
        "Standard_D3_v2",
        "Standard_D4_v2",
        "Standard_D5_v2",
        "Standard_D8_v3",
        "Standard_D11_v2",
        "Standard_D12_v2",
        "Standard_D13_v2",
        "Standard_D14_v2",
        "Standard_E2_v3",
        "Standard_E4_v3",
        "Standard_E8_v3",
        "Standard_E16_v3",
        "Standard_E32_v3",
        "Standard_E64_v3",
        "Standard_E2s_v3",
        "Standard_E4s_v3",
        "Standard_E8s_v3",
        "Standard_E16s_v3",
        "Standard_E32s_v3",
        "Standard_E64s_v3",
        "Standard_G1",
        "Standard_G2",
        "Standard_G3",
        "Standard_G4",
        "Standard_G5",
        "Standard_DS2",
        "Standard_DS3",
        "Standard_DS4",
        "Standard_DS11",
        "Standard_DS12",
        "Standard_DS13",
        "Standard_DS14",
        "Standard_DS2_v2",
        "Standard_DS3_v2",
        "Standard_DS4_v2",
        "Standard_DS5_v2",
        "Standard_DS11_v2",
        "Standard_DS12_v2",
        "Standard_DS13_v2",
        "Standard_DS14_v2",
        "Standard_GS1",
        "Standard_GS2",
        "Standard_GS3",
        "Standard_GS4",
        "Standard_GS5",
        "Standard_D2s_v3",
        "Standard_D4s_v3",
        "Standard_D8s_v3"
      ],
      "metadata" : {
        "description" : "The size of the each Node Virtual Machine."
      }
    }
  },
  "variables" : {
    "location" : "[resourceGroup().location]",
    "nodeStorageName" : "[concat('sa', resourceGroup().name)]",
    "vmSizesMap" : {
      "Standard_A2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A4" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A5" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A6" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A7" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A8" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A9" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A10" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_A11" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D1" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D4" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D11" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D12" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D13" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D14" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D1_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D2_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D3_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D4_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D5_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D8_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D11_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D12_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D13_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D14_v2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E2_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E4_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E8_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E16_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E32_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E64_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E2s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E4s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E8s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E16s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E32s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_E64s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_G1" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_G2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_G3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_G4" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_G5" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS1" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS2" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS4" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS11" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS12" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS13" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS14" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_DS1_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS2_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS3_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS4_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS5_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS11_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS12_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS13_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS14_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_DS15_v2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_GS1" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_GS2" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_GS3" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_GS4" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_GS5" : {
        "storageAccountType" : "Premium_LRS"
      },
      "Standard_D2s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D4s_v3" : {
        "storageAccountType" : "Standard_LRS"
      },
      "Standard_D8s_v3" : {
        "storageAccountType" : "Standard_LRS"
      }
    }
  },
  "resources" : [
    {
      "type" : "Microsoft.Storage/storageAccounts",
      "name" : "[variables('nodeStorageName')]",
      "apiVersion" : "2015-06-15",
      "location" : "[variables('location')]",
      "properties" : {
        "accountType" : "[variables('vmSizesMap')[parameters('nodeVmSize')].storageAccountType]"
      }
    }
  ]
}